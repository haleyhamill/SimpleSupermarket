{"ast":null,"code":"import _slicedToArray from\"/Users/haleyhamill/Desktop/github/SimpleSupermarket/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{loadStripe}from\"@stripe/stripe-js\";import Input from\"./Input.js\";import Button from\"./Button.js\";import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var stripeLoadedPromise=loadStripe('pk_test_51HsqkCGuhXEITAut89vmc4jtjYd7XPs8hWfo2XPef15MFqI8rCFc8NqQU9WutlUBsd8kmNqHBeEmSrdMMpeEEyfT00KzeVdate');export default function Cart(_ref){var cart=_ref.cart;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var totalPrice=cart.reduce(function(total,product){return total+product.price*product.quantity;},0);var lineItems=cart.map(function(product){return{price:product.price_id,quantity:product.quantity};});function handleFormSubmit(event){event.preventDefault();stripeLoadedPromise.then(function(stripe){stripe.redirectToCheckout({lineItems:lineItems,mode:'payment',successUrl:'https://github.com/haleyhamill',cancelUrl:'https://github.com/haleyhamill',customerEmail:email}).then(function(response){// this will only log if the redirect did not work\nconsole.log(response.error);}).catch(function(error){// wrong API key? you will see the error message here\nconsole.log(error);});});};return/*#__PURE__*/_jsx(\"div\",{className:\"cart-layout\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Your Cart\"}),cart.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"You have not added any product to your cart yet.\"}),cart.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table table-cart\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"25%\",className:\"th-product\",children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{width:\"20%\",children:\"Unit price\"}),/*#__PURE__*/_jsx(\"th\",{width:\"10%\",children:\"Quanity\"}),/*#__PURE__*/_jsx(\"th\",{width:\"25%\",children:\"Total\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:cart.map(function(product){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,width:\"30\",height:\"30\",alt:\"\"}),\" \",product.name]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",product.price]}),/*#__PURE__*/_jsx(\"td\",{children:product.quantity}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",product.price*product.quantity]})})]},product.id);})}),/*#__PURE__*/_jsx(\"tfoot\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{colSpan:\"2\"}),/*#__PURE__*/_jsx(\"th\",{className:\"cart-highlight\",children:\"Total\"}),/*#__PURE__*/_jsxs(\"th\",{className:\"cart-highlight\",children:[\"$\",totalPrice]})]})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFormSubmit,className:\"pay-form\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Enter your email and then click on pay and your products will be delivered to you on the same day!\"}),/*#__PURE__*/_jsx(Input,{autocomplete:\"email\",placeholder:\"Email\",type:\"email\",value:email,onChange:function onChange(event){return setEmail(event.target.value);},required:true}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Pay\"})]})]})]})});}","map":{"version":3,"sources":["/Users/haleyhamill/Desktop/github/SimpleSupermarket/src/Cart.js"],"names":["React","useState","loadStripe","Input","Button","stripeLoadedPromise","Cart","cart","email","setEmail","totalPrice","reduce","total","product","price","quantity","lineItems","map","price_id","handleFormSubmit","event","preventDefault","then","stripe","redirectToCheckout","mode","successUrl","cancelUrl","customerEmail","response","console","log","error","catch","length","image","name","id","target","value"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport Input from \"./Input.js\";\nimport Button from \"./Button.js\";\nimport './index.css';\n\nconst stripeLoadedPromise = loadStripe('pk_test_51HsqkCGuhXEITAut89vmc4jtjYd7XPs8hWfo2XPef15MFqI8rCFc8NqQU9WutlUBsd8kmNqHBeEmSrdMMpeEEyfT00KzeVdate');\n\nexport default function Cart({ cart }) {\n  const [email, setEmail] = useState(\"\")\n  const totalPrice = cart.reduce(\n    (total, product) => total + product.price * product.quantity,\n    0\n  );\n\n  const lineItems = cart.map((product) => {\n    return {\n      price: product.price_id, quantity: product.quantity,\n    }\n  })\n\n  function handleFormSubmit(event) {\n    event.preventDefault();\n    stripeLoadedPromise.then(stripe => {\n      stripe.redirectToCheckout({\n        lineItems: lineItems,\n        mode: 'payment',\n        successUrl: 'https://github.com/haleyhamill',\n        cancelUrl: 'https://github.com/haleyhamill',\n        customerEmail: email,\n      }).then(response => {\n        // this will only log if the redirect did not work\n        console.log(response.error);\n      }).catch(error => {\n        // wrong API key? you will see the error message here\n        console.log(error);\n      });\n    });\n  };  \n\n  return (\n    <div className=\"cart-layout\">\n      <div>\n        <h1>Your Cart</h1>\n        {cart.length === 0 && (\n          <p>You have not added any product to your cart yet.</p>\n        )}\n        {cart.length > 0 && (\n          <>\n            <table className=\"table table-cart\">\n              <thead>\n                <tr>\n                  <th width=\"25%\" className=\"th-product\">\n                    Product\n                  </th>\n                  <th width=\"20%\">Unit price</th>\n                  <th width=\"10%\">Quanity</th>\n                  <th width=\"25%\">Total</th>\n                </tr>\n              </thead>\n              <tbody>\n                {cart.map((product) => {\n                  return (\n                    <tr key={product.id}>\n                      <td>\n                        <img\n                          src={product.image}\n                          width=\"30\"\n                          height=\"30\"\n                          alt=\"\"\n                        />{\" \"}\n                        {product.name}\n                      </td>\n                      <td>${product.price}</td>\n                      <td>{product.quantity}</td>\n                      <td>\n                        <strong>${product.price * product.quantity}</strong>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n              <tfoot>\n                <tr>\n                  <th colSpan=\"2\"></th>\n                  <th className=\"cart-highlight\">Total</th>\n                  <th className=\"cart-highlight\">${totalPrice}</th>\n                </tr>\n              </tfoot>\n            </table>\n            <form onSubmit={handleFormSubmit} className=\"pay-form\">\n  <p>\n    Enter your email and then click on pay and your products will be\n    delivered to you on the same day!\n  </p>\n  <Input autocomplete=\"email\" placeholder=\"Email\" type=\"email\" value={email} onChange={(event) => setEmail(event.target.value)} required />\n  <Button type=\"submit\">Pay</Button>\n</form>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}