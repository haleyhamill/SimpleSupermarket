(this.webpackJsonpsupermarket=this.webpackJsonpsupermarket||[]).push([[0],{36:function(t,e,c){"use strict";c.r(e);var r=c(22),n=c(8),s=c(7),i=(c(5),c(1)),a=c(18),d=c(3),j=c(2),l=c(0);function o(t){var e=t.cart.reduce((function(t,e){return t+e.quantity}),0);return Object(l.jsxs)("nav",{className:"navbar",children:[Object(l.jsx)(d.c,{to:"/",className:"nav-brand",children:"SuperM"}),Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(d.c,{exact:!0,activeClassName:"active",to:"/",children:"Home"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(d.c,{exact:!0,activeClassName:"active",to:"/about",children:"About us"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(d.c,{activeClassName:"active",to:"/products",children:"Products"})}),Object(l.jsx)("li",{children:Object(l.jsxs)(d.c,{to:"/cart",className:"nav-item nav-cart btn btn-accent",children:["Cart (",e,")"]})})]})]})}function u(){return Object(l.jsxs)("div",{className:"home-layout",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Online shopping simplified"}),Object(l.jsxs)("p",{children:["Order your groceries from ",Object(l.jsx)("em",{children:"SuperM"})," with our easy to use app, and get your products delivered straight to your doorstep."]}),Object(l.jsx)(d.b,{to:"/products",className:"btn btn-default",children:"Start shopping"})]}),Object(l.jsx)("img",{src:"https://res.cloudinary.com/dbfn5lnvx/image/upload/q_auto,w_700/v1607770215/react-tutorial/supermarket/home.jpg",width:"350",height:"240",className:"rounded home-image",alt:""})]})}function h(){return Object(l.jsxs)("div",{className:"about-layout",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"About Us"}),Object(l.jsxs)("p",{children:["We started operations in 2020. We guarantee fresh produce.",Object(l.jsx)("br",{}),"Save time by shopping on our app and we'll deliver the products right to your home. ",Object(l.jsx)("br",{}),Object(l.jsx)("em",{children:"We use Stripe to process your payment."})]})]}),Object(l.jsx)("img",{src:"https://res.cloudinary.com/dbfn5lnvx/image/upload/q_auto,w_550/v1607770215/react-tutorial/supermarket/about.jpg",height:"275",width:"183",className:"rounded",alt:""})]})}var b=c(13),O=c(12),x=["children","outline","className"];function p(t){var e=t.children,c=t.outline,r=t.className,s=Object(b.a)(t,x),i=Object(O.a)({btn:!0,"btn-default":!c,"btn-outline":c},r);return Object(l.jsx)("button",Object(n.a)(Object(n.a)({className:i},s),{},{children:e}))}function m(t){var e=t.details,c=t.cart.find((function(t){return t.id===e.id})),r=c?c.quantity:0;return Object(l.jsxs)("div",{className:"product",children:[Object(l.jsxs)("div",{className:"product-image-container",children:[Object(l.jsx)(d.b,{to:"/products/".concat(e.id),children:Object(l.jsx)("img",{src:e.image,width:"100",height:"100",className:"product-image",alt:e.name})}),r>0&&Object(l.jsx)("div",{className:"product-quantity-container",children:Object(l.jsx)("div",{className:"product-quantity",children:r})})]}),Object(l.jsxs)("div",{className:"product-info",children:[Object(l.jsx)("h3",{children:e.name}),Object(l.jsx)("p",{children:e.description})]}),Object(l.jsxs)("div",{className:"product-checkout",children:[Object(l.jsx)("div",{children:r>0&&Object(l.jsx)(p,{outline:!0,onClick:function(){return t.onProductDelete(e.id)},className:"product-delete",children:"x"})}),Object(l.jsxs)(p,{outline:!0,onClick:function(){return t.onProductAdd(e)},children:["$",e.price]})]})]})}function f(t){var e=Object(i.useState)(!0),c=Object(s.a)(e,2),r=c[0],n=c[1];return{get:function(e){return new Promise((function(c,r){fetch(t+e).then((function(t){return t.json()})).then((function(t){if(!t)return n(!1),r(t);n(!1),c(t)})).catch((function(t){n(!1),r(t)}))}))},post:function(e,c){return new Promise((function(r,s){fetch(t+e,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(t){return t.json()})).then((function(t){if(!t)return n(!1),s(t);n(!1),r(t)})).catch((function(t){n(!1),s(t)}))}))},loading:r}}function v(){return Object(l.jsx)("svg",{className:"spinner",width:"65px",height:"65px",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("circle",{className:"path",fill:"none",strokeWidth:"6",strokeLinecap:"round",cx:"33",cy:"33",r:"30"})})}function g(t){var e=Object(i.useState)([]),c=Object(s.a)(e,2),r=c[0],n=c[1],a=f("https://react-tutorial-demo.firebaseio.com/"),d=a.get,j=a.loading;return Object(i.useEffect)((function(){d("supermarket.json").then((function(t){n(t)})).catch((function(t){return console.log("Could not load products",t)}))}),[]),Object(l.jsxs)("div",{className:"products-layout",children:[Object(l.jsx)("h1",{children:"Products"}),Object(l.jsx)("p",{children:"Take a look at our products"}),Object(l.jsxs)("div",{className:"products-grid",children:[j&&Object(l.jsx)(v,{}),r.map((function(e){return Object(l.jsx)(m,{cart:t.cart,details:e,onProductAdd:t.onProductAdd,onProductDelete:t.onProductDelete},e.id)}))]})]})}function y(t){var e=t.product,c=t.onProductAdd;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("p",{children:[e.description," sold at ",Object(l.jsxs)("strong",{children:["$",e.price]})," per piece."]}),Object(l.jsxs)(p,{onClick:function(){return c(e)},children:["$",e.price]})]})}function N(t){var e=t.nutrition;return Object(l.jsxs)("table",{className:"table table-nutrition",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Nutrient"}),Object(l.jsx)("th",{children:"Value"})]})}),Object(l.jsxs)("tbody",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:"Protein"}),Object(l.jsxs)("td",{children:[e.protein,"g"]})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:"Carbohydrates"}),Object(l.jsxs)("td",{children:[e.carbs,"g"]})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:"Fat"}),Object(l.jsxs)("td",{children:[e.fat,"g"]})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:"Salt"}),Object(l.jsxs)("td",{children:[e.salt,"g"]})]})]})]})}function w(t){var e=t.storage;return Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Storage instructions:"})," ",e]})}function q(t){var e=Object(i.useState)({}),c=Object(s.a)(e,2),r=c[0],n=c[1],a=f("https://react-tutorial-demo.firebaseio.com/").get,o=Object(j.f)(),u=Object(j.g)();return Object(i.useEffect)((function(){a("productinfo/id".concat(o.id,".json")).then((function(t){n(t)})).catch((function(t){return console.log("Could not load product details",t)}))}),[]),Object(l.jsxs)("div",{className:"product-details-layout",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:r.name}),Object(l.jsx)("img",{src:r.image,width:"125",height:"125",className:"product-details-image",alt:r.name})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"tabs",children:Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:Object(l.jsx)(d.c,{exact:!0,activeClassName:"tab-active",to:u.url,children:"Details"})}),Object(l.jsx)("li",{children:Object(l.jsx)(d.c,{exact:!0,activeClassName:"tab-active",to:u.url+"/nutrition",children:"Nutrition"})}),Object(l.jsx)("li",{children:Object(l.jsx)(d.c,{exact:!0,activeClassName:"tab-active",to:u.url+"/storage",children:"Storage"})})]})}),Object(l.jsxs)(j.c,{children:[Object(l.jsx)(j.a,{exact:!0,path:u.path,children:Object(l.jsx)(y,{product:r,onProductAdd:t.onProductAdd})}),Object(l.jsx)(j.a,{path:u.path+"/nutrition",children:Object(l.jsx)(N,{nutrition:r.nutrition})}),Object(l.jsx)(j.a,{path:u.path+"/storage",children:Object(l.jsx)(w,{storage:r.storage})})]})]})]})}var P=c(21),k=["className","placeholder","required","type"];function C(t){var e=t.className,c=t.placeholder,r=t.required,s=t.type,i=void 0===s?"text":s,a=Object(b.a)(t,k),d=Object(O.a)({input:!0},e);return Object(l.jsxs)("label",{className:"label",children:[c,r&&Object(l.jsx)("span",{className:"input-required",children:"*"}),Object(l.jsx)("div",{children:Object(l.jsx)("input",Object(n.a)({type:i,placeholder:c,className:d,required:r},a))})]})}var S=Object(P.a)("pk_test_51HsqkCGuhXEITAut89vmc4jtjYd7XPs8hWfo2XPef15MFqI8rCFc8NqQU9WutlUBsd8kmNqHBeEmSrdMMpeEEyfT00KzeVdate");function A(t){var e=t.cart,c=Object(i.useState)(""),r=Object(s.a)(c,2),n=r[0],a=r[1],d=e.reduce((function(t,e){return t+e.price*e.quantity}),0),j=e.map((function(t){return{price:t.price_id,quantity:t.quantity}}));return Object(l.jsx)("div",{className:"cart-layout",children:Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Your Cart"}),0===e.length&&Object(l.jsx)("p",{children:"You have not added any product to your cart yet."}),e.length>0&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("table",{className:"table table-cart",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{width:"25%",className:"th-product",children:"Product"}),Object(l.jsx)("th",{width:"20%",children:"Unit price"}),Object(l.jsx)("th",{width:"10%",children:"Quanity"}),Object(l.jsx)("th",{width:"25%",children:"Total"})]})}),Object(l.jsx)("tbody",{children:e.map((function(t){return Object(l.jsxs)("tr",{children:[Object(l.jsxs)("td",{children:[Object(l.jsx)("img",{src:t.image,width:"30",height:"30",alt:""})," ",t.name]}),Object(l.jsxs)("td",{children:["$",t.price]}),Object(l.jsx)("td",{children:t.quantity}),Object(l.jsx)("td",{children:Object(l.jsxs)("strong",{children:["$",t.price*t.quantity]})})]},t.id)}))}),Object(l.jsx)("tfoot",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{colSpan:"2"}),Object(l.jsx)("th",{className:"cart-highlight",children:"Total"}),Object(l.jsxs)("th",{className:"cart-highlight",children:["$",d]})]})})]}),Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),S.then((function(t){t.redirectToCheckout({lineItems:j,mode:"payment",successUrl:"https://github.com/haleyhamill",cancelUrl:"https://github.com/haleyhamill",customerEmail:n}).then((function(t){console.log(t.error)})).catch((function(t){console.log(t)}))}))},className:"pay-form",children:[Object(l.jsx)("p",{children:"Enter your email and then click on pay and your products will be delivered to you on the same day!"}),Object(l.jsx)(C,{autocomplete:"email",placeholder:"Email",type:"email",value:n,onChange:function(t){return a(t.target.value)},required:!0}),Object(l.jsx)(p,{type:"submit",children:"Pay"})]})]})]})})}function E(){var t=Object(i.useState)([]),e=Object(s.a)(t,2),c=e[0],a=e[1];function b(t){if(c.find((function(e){return e.id===t.id}))){var e=c.map((function(e){return e.id===t.id?Object(n.a)(Object(n.a)({},e),{},{quantity:e.quantity+1}):e}));a(e)}else a([].concat(Object(r.a)(c),[Object(n.a)(Object(n.a)({},t),{},{quantity:1})]))}return Object(l.jsxs)(d.a,{children:[Object(l.jsx)(o,{cart:c}),Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)(j.c,{children:[Object(l.jsx)(j.a,{exact:!0,path:"/",children:Object(l.jsx)(u,{})}),Object(l.jsx)(j.a,{exact:!0,path:"/about",children:Object(l.jsx)(h,{})}),Object(l.jsx)(j.a,{exact:!0,path:"/products",children:Object(l.jsx)(g,{cart:c,onProductAdd:b,onProductDelete:function(t){var e=c.filter((function(e){return e.id!==t}));a(e)}})}),Object(l.jsx)(j.a,{path:"/products/:id",children:Object(l.jsx)(q,{onProductAdd:b})}),Object(l.jsx)(j.a,{exact:!0,path:"/cart",children:Object(l.jsx)(A,{cart:c})})]})})]})}Object(a.render)(Object(l.jsx)(E,{}),document.getElementById("root"))},5:function(t,e,c){}},[[36,1,2]]]);
//# sourceMappingURL=main.05f52483.chunk.js.map